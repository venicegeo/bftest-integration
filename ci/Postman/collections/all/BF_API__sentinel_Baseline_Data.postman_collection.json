{
	"id": "e4521630-0985-6bfe-cebd-d2f47232f681",
	"name": "BF_API__sentinel",
	"description": "",
	"order": [],
	"folders": [
		{
			"description": "",
			"folder": null,
			"folders_order": [],
			"id": "d3fa7040-7565-6d9c-c5e6-f692cf15a557",
			"lastRevision": 2228206662,
			"lastUpdatedBy": "1764447",
			"name": "01_Startup",
			"order": [
				"65cae68f-0b99-b30a-54b5-1b1878793796",
				"dd1cf697-777c-f034-bab9-21b39c964381",
				"2e717461-61ea-074a-ca35-7188d0c31892",
				"8efb5d7c-e642-834d-9542-bb26e90a2097",
				"bd47f088-2689-8e44-9d5b-84675af9fb88",
				"0998faf7-da68-54a5-60d6-a365160b9bb9",
				"a5c7691a-c29c-9f14-2ea4-04eddfa5d0c1"
			],
			"owner": "1764447"
		},
		{
			"description": "",
			"folder": null,
			"folders_order": [],
			"id": "e40dc073-a7aa-ed2d-8eeb-974ccaff8b74",
			"lastRevision": 2228290086,
			"lastUpdatedBy": "1764447",
			"name": "02_High",
			"order": [
				"3808d874-c8b5-16c8-151a-07a031b8abbd",
				"07eee0f6-8119-50bd-410e-4659d6a6144e",
				"6bed1e1f-8f02-368c-7098-45388ea54a61",
				"492852fa-b02e-2145-4e63-a2fd5960d4ff",
				"68e67172-6311-a9ca-b803-7062dc8862fa",
				"6a354176-b968-027a-befc-fb9d34946091"
			],
			"owner": "1764447"
		}
	],
	"folders_order": [
		"d3fa7040-7565-6d9c-c5e6-f692cf15a557",
		"e40dc073-a7aa-ed2d-8eeb-974ccaff8b74"
	],
	"timestamp": 0,
	"owner": "1764447",
	"public": false,
	"requests": [
		{
			"collectionId": "e4521630-0985-6bfe-cebd-d2f47232f681",
			"currentHelper": "basicAuth",
			"data": [],
			"dataMode": "params",
			"description": "Check that the shoreline calculation job was successful.",
			"descriptionFormat": null,
			"folder": "e40dc073-a7aa-ed2d-8eeb-974ccaff8b74",
			"headerData": [
				{
					"description": "",
					"enabled": true,
					"key": "Content-Type",
					"value": "application/json"
				},
				{
					"description": "",
					"enabled": true,
					"key": "Authorization",
					"value": "Basic N2EzYTU2Y2NiM2RkYmUxMmQ5YmJiNGM1YzkyMzkyYWI6"
				}
			],
			"headers": "Content-Type: application/json\nAuthorization: Basic N2EzYTU2Y2NiM2RkYmUxMmQ5YmJiNGM1YzkyMzkyYWI6\n",
			"helperAttributes": "{\"id\":\"basic\",\"username\":\"{{bf_key_1}}\",\"password\":\"\",\"saveToRequest\":true}",
			"id": "07eee0f6-8119-50bd-410e-4659d6a6144e",
			"method": "GET",
			"name": "Check Job Status",
			"pathVariableData": [],
			"pathVariables": {},
			"preRequestScript": "",
			"queryParams": [],
			"rawModeData": null,
			"responses": [],
			"tests": "tests[\"Status code is 200\"] = responseCode.code === 200;\nvar testLevels = eval(postman.getEnvironmentVariable('testLevels'));\nvar wait = eval(postman.getEnvironmentVariable('wait'));\nvar parseJSON = eval(postman.getEnvironmentVariable('parseJSON'));\nvar data = parseJSON(tests, responseBody);\n\nif (testLevels(tests, data, 'job.properties.status')) {\n    if (data.job.properties.status === 'Running' || data.job.properties.status === 'Submitted' || data.job.properties.status === 'Pending') {\n        if (parseInt(postman.getEnvironmentVariable('retry_loop')) < parseInt(postman.getEnvironmentVariable('max_retries'))) {\n            postman.setEnvironmentVariable('retry_loop', parseInt(postman.getEnvironmentVariable('retry_loop')) + 1);\n            postman.setNextRequest('Check Job Status');\n            wait(20000);\n        }\n        else {\n            tests[\"Job finished in time\"] = false;\n            tests[\"status is still \" + data.job.properties.status] = false;\n            postman.setEnvironmentVariable('retry_loop','0');\n        }\n    }\n    else if (data.job.properties.status === 'Success') {\n        postman.setEnvironmentVariable('retry_loop','0');\n        tests[\"Job finished in time\"] = true;\n        if (testLevels(tests, data, 'job.properties.created_on', 'string')) {\n            tests[\"'created_on' is formatted correctly\"] = data.job.properties.created_on.match(/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(Z|\\+\\d{2}:\\d{2})$/);\n        }\n        if (testLevels(tests, data, 'job.properties.scene_time_of_collect', 'string')) {\n            tests[\"'scene_time_of_collect' is formatted correctly\"] = data.job.properties.scene_time_of_collect.match(/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(Z|\\+\\d{2}:\\d{2})$/);\n        }\n    }\n    else {\n        tests[\"status should not be \" + data.job.properties.status] = false;\n        postman.setEnvironmentVariable('retry_loop','0');\n    }\n}",
			"url": "https://bf-api.{{domain}}/v0/job/{{jobId}}"
		},
		{
			"collectionId": "e4521630-0985-6bfe-cebd-d2f47232f681",
			"currentHelper": "normal",
			"data": null,
			"dataMode": "params",
			"description": "Validate that the url given for the WMS service is valid.",
			"descriptionFormat": null,
			"folder": "d3fa7040-7565-6d9c-c5e6-f692cf15a557",
			"headerData": [],
			"headers": "",
			"helperAttributes": "{}",
			"id": "0998faf7-da68-54a5-60d6-a365160b9bb9",
			"method": "GET",
			"name": "Validate WMS URL",
			"pathVariableData": [],
			"pathVariables": {},
			"preRequestScript": null,
			"queryParams": [],
			"rawModeData": null,
			"responses": [],
			"tests": "tests[\"Status code is 200\"] = responseCode.code === 200;",
			"url": "{{wms_server_url}}"
		},
		{
			"collectionId": "e4521630-0985-6bfe-cebd-d2f47232f681",
			"currentHelper": "basicAuth",
			"data": [],
			"dataMode": "raw",
			"description": "Get the metadata of a specific algorithm.",
			"descriptionFormat": null,
			"folder": "d3fa7040-7565-6d9c-c5e6-f692cf15a557",
			"headerData": [
				{
					"description": "",
					"enabled": true,
					"key": "Content-Type",
					"value": "application/json"
				},
				{
					"description": "",
					"enabled": true,
					"key": "Authorization",
					"value": "Basic N2EzYTU2Y2NiM2RkYmUxMmQ5YmJiNGM1YzkyMzkyYWI6"
				}
			],
			"headers": "Content-Type: application/json\nAuthorization: Basic N2EzYTU2Y2NiM2RkYmUxMmQ5YmJiNGM1YzkyMzkyYWI6\n",
			"helperAttributes": "{\"id\":\"basic\",\"username\":\"{{bf_key_1}}\",\"password\":\"\",\"saveToRequest\":true}",
			"id": "2e717461-61ea-074a-ca35-7188d0c31892",
			"method": "GET",
			"name": "Get Algorithm",
			"pathVariableData": [],
			"pathVariables": {},
			"preRequestScript": null,
			"queryParams": [],
			"rawModeData": "",
			"responses": [],
			"tests": "tests[\"Status code is 200\"] = responseCode.code === 200;\nvar data = JSON.parse(responseBody);\nvar testLevels = eval(postman.getEnvironmentVariable('testLevels'));\n\ntestLevels(tests, data, 'algorithm.description');\ntestLevels(tests, data, 'algorithm.interface');\ntestLevels(tests, data, 'algorithm.max_cloud_cover');\ntestLevels(tests, data, 'algorithm.name');\nif (testLevels(tests, data.algorithm, 'service_id')) {\n    tests[\"Correct service_id returned\"] = postman.getEnvironmentVariable('algServiceId') === data.algorithm.service_id;\n}\ntestLevels(tests, data, 'algorithm.version');",
			"url": "https://bf-api.{{domain}}/v0/algorithm/{{algServiceId}}"
		},
		{
			"collectionId": "e4521630-0985-6bfe-cebd-d2f47232f681",
			"currentHelper": "basicAuth",
			"data": [],
			"dataMode": "raw",
			"description": "Start a shoreline calculation job.",
			"descriptionFormat": null,
			"folder": "e40dc073-a7aa-ed2d-8eeb-974ccaff8b74",
			"headerData": [
				{
					"description": "",
					"enabled": true,
					"key": "Content-Type",
					"value": "application/json"
				},
				{
					"description": "",
					"enabled": true,
					"key": "Authorization",
					"value": "Basic N2EzYTU2Y2NiM2RkYmUxMmQ5YmJiNGM1YzkyMzkyYWI6"
				}
			],
			"headers": "Content-Type: application/json\nAuthorization: Basic N2EzYTU2Y2NiM2RkYmUxMmQ5YmJiNGM1YzkyMzkyYWI6\n",
			"helperAttributes": "{\"id\":\"basic\",\"username\":\"{{bf_key_1}}\",\"password\":\"\",\"saveToRequest\":true}",
			"id": "3808d874-c8b5-16c8-151a-07a031b8abbd",
			"method": "POST",
			"name": "Create Job",
			"pathVariableData": [],
			"pathVariables": {},
			"preRequestScript": "",
			"queryParams": [],
			"rawModeData": "{\n  \"algorithm_id\": \"{{algServiceId}}\",\n  \"scene_id\": \"sentinel:{{sentinelId}}\",\n  \"name\": \"postman job\",\n  \"planet_api_key\": \"{{PL API - NO COMMIT}}\"\n}",
			"responses": [],
			"tests": "tests[\"Status code is 201\"] = responseCode.code === 201;\nvar testLevels = eval(postman.getEnvironmentVariable('testLevels'));\nvar parseJSON = eval(postman.getEnvironmentVariable('parseJSON'));\nvar data = parseJSON(tests, responseBody);\n\nif (testLevels(tests, data, 'job.id')) {\n    postman.setEnvironmentVariable('jobId', data.job.id);\n}\ntestLevels(tests, data, 'job.geometry');\nif (testLevels(tests, data, 'job.properties.created_by')) {\n    tests[\"Correct User\"] = postman.getEnvironmentVariable('bf_user_1') === data.job.properties.created_by;\n}\n// if (testLevels(tests, data, 'job.properties.created_on', 'string')) {\n//     tests[\"'created_on' is formatted correctly\"] = data.job.properties.created_on.match(/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(Z|\\+\\d{2}:\\d{2})$/);\n// } // Bug #15999\nif (testLevels(tests, data, 'job.properties.scene_time_of_collect', 'string')) {\n    tests[\"'scene_time_of_collect' is formatted correctly\"] = data.job.properties.scene_time_of_collect.match(/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(Z|\\+\\d{2}:\\d{2})$/);\n}",
			"url": "https://bf-api.{{domain}}/v0/job"
		},
		{
			"collectionId": "e4521630-0985-6bfe-cebd-d2f47232f681",
			"currentHelper": "basicAuth",
			"data": [],
			"dataMode": "raw",
			"description": "List all jobs filtered by scene ID, making sure the just created job is present.",
			"descriptionFormat": null,
			"folder": "e40dc073-a7aa-ed2d-8eeb-974ccaff8b74",
			"headerData": [
				{
					"description": "",
					"enabled": true,
					"key": "Content-Type",
					"value": "application/json"
				},
				{
					"description": "",
					"enabled": true,
					"key": "Authorization",
					"value": ""
				}
			],
			"headers": "Content-Type: application/json\nAuthorization: \n",
			"helperAttributes": "{\"id\":\"basic\",\"username\":\"{{bf_key_1}}\",\"password\":\"\",\"saveToRequest\":true}",
			"id": "492852fa-b02e-2145-4e63-a2fd5960d4ff",
			"method": "GET",
			"name": "List Jobs by Scene",
			"pathVariableData": [],
			"pathVariables": {},
			"preRequestScript": null,
			"queryParams": [],
			"rawModeData": "",
			"responses": [],
			"tests": "tests[\"Status code is 200\"] = responseCode.code === 200;\nvar data = JSON.parse(responseBody);\nvar testLevels = eval(postman.getEnvironmentVariable('testLevels'));\nvar found = false;\nvar match = true;\n\nif (testLevels(tests, data, 'jobs.features', 'array')) {\n    for (i = 0; i < data.jobs.features.length; i++) {\n        if (testLevels(tests, data.jobs.features[i], 'id', 'skip', 'jobs.features[].')) {\n            found = found || data.jobs.features[i].id === postman.getEnvironmentVariable('jobId');\n        }\n        if (testLevels(tests, data.jobs.features[i], 'properties.scene_id', 'skip', 'jobs.features[].')) {\n            match = match && data.jobs.features[i].properties.scene_id === ('sentinel:' + postman.getEnvironmentVariable('sentinelId'));\n        }\n    }\n    postman.setEnvironmentVariable('active jobs - scene', data.jobs.features.length);\n}\n\ntests[\"Job found in list of jobs\"] = found;\ntests[\"All jobs had specified scene_id\"] = match;",
			"url": "https://bf-api.{{domain}}/v0/job/by_scene/sentinel:{{sentinelId}}"
		},
		{
			"collectionId": "e4521630-0985-6bfe-cebd-d2f47232f681",
			"currentHelper": "normal",
			"data": [],
			"dataMode": "raw",
			"description": "Check that the app responds at all.",
			"descriptionFormat": null,
			"folder": "d3fa7040-7565-6d9c-c5e6-f692cf15a557",
			"headerData": [
				{
					"description": "",
					"enabled": true,
					"key": "Content-Type",
					"value": "application/json"
				}
			],
			"headers": "Content-Type: application/json\n",
			"helperAttributes": "{}",
			"id": "65cae68f-0b99-b30a-54b5-1b1878793796",
			"method": "GET",
			"name": "Health Check",
			"pathVariableData": [],
			"pathVariables": {},
			"preRequestScript": null,
			"queryParams": [],
			"rawModeData": "",
			"responses": [],
			"tests": "tests[\"Status code is 200\"] = responseCode.code === 200;\nvar d = new Date();\nd.setDate(d.getDate()-15);\nd_string = d.toISOString();\npostman.setEnvironmentVariable('TwoDaysAgo', d.toISOString()); // Actually 60 days ago\n\npostman.setEnvironmentVariable('retry_loop', '0');\npostman.setEnvironmentVariable('max_retries', 20);\npostman.setEnvironmentVariable('Australia', '9,46,17,50');\npostman.setEnvironmentVariable('PL Name', 'IntegrationTest_SriLanka');\n\ntests[\"globals available\"] = postman.getGlobalVariable('bf_key_1');",
			"url": "https://bf-api.{{domain}}"
		},
		{
			"collectionId": "e4521630-0985-6bfe-cebd-d2f47232f681",
			"currentHelper": "basicAuth",
			"data": [],
			"dataMode": "params",
			"description": "Get the geojson output of a successful job",
			"descriptionFormat": null,
			"folder": "e40dc073-a7aa-ed2d-8eeb-974ccaff8b74",
			"headerData": [
				{
					"description": "",
					"enabled": true,
					"key": "Content-Type",
					"value": "application/json"
				},
				{
					"description": "",
					"enabled": true,
					"key": "Authorization",
					"value": ""
				}
			],
			"headers": "Content-Type: application/json\nAuthorization: \n",
			"helperAttributes": "{\"id\":\"basic\",\"username\":\"{{bf_key_1}}\",\"password\":\"\",\"saveToRequest\":true}",
			"id": "68e67172-6311-a9ca-b803-7062dc8862fa",
			"method": "GET",
			"name": "Get Geojson",
			"pathVariableData": [],
			"pathVariables": {},
			"preRequestScript": "",
			"queryParams": [],
			"rawModeData": null,
			"responses": [],
			"tests": "tests[\"Status code is 200\"] = responseCode.code === 200;\nvar testLevels = eval(postman.getEnvironmentVariable('testLevels'));\nvar parseJSON = eval(postman.getEnvironmentVariable('parseJSON'));\nvar data = parseJSON(tests, responseBody);\n\nvar correct_job_id = true;\nvar correct_alg = true;\nvar no_targeting = true;\nvar unclass = true;\n\nif(testLevels(tests, data, 'features', 'array')) {\n    for (i = 0; i < data.features.length; i++) {\n        if (testLevels(tests, data.features[i], 'properties.job_id', 'skip', 'features[].')) {\n            correct_job_id = correct_job_id && postman.getEnvironmentVariable('jobId') == data.features[i].properties.job_id;\n        }\n        if (testLevels(tests, data.features[i], 'properties.algorithm_id', 'skip', 'features[].')) {\n            correct_alg = correct_alg && postman.getEnvironmentVariable('algServiceId') == data.features[i].properties.algorithm_id;\n        }\n        if (testLevels(tests, data.features[i], 'properties.data_usage', 'string', 'features[].')) {\n            no_targeting = no_targeting && data.features[i].properties.data_usage.match(/no.*tar/i) && data.features[i].properties.data_usage.match(/no.*nav/i);\n        }\n        if (testLevels(tests, data.features[i], 'properties.classification', 'string', 'features[].')) {\n            unclass = unclass && data.features[i].properties.classification.match(/unclass/i);\n        }\n    }\n}\ntests[\"each element had correct 'job_id' value\"] = correct_job_id;\ntests[\"each element had correct 'algorithm_id' value\"] = correct_alg;\ntests[\"each element had a 'not for targetting/navigation' message\"] = no_targeting;\ntests[\"each element had an unclass message\"] = unclass;",
			"url": "https://bf-api.{{domain}}/v0/job/{{jobId}}.geojson"
		},
		{
			"collectionId": "e4521630-0985-6bfe-cebd-d2f47232f681",
			"currentHelper": "basicAuth",
			"data": [],
			"dataMode": "raw",
			"description": "Remove a job from the user's list of visible jobs,",
			"descriptionFormat": null,
			"folder": "e40dc073-a7aa-ed2d-8eeb-974ccaff8b74",
			"headerData": [],
			"headers": "Content-Type: application/json\nAuthorization: \n",
			"helperAttributes": "{\"id\":\"basic\",\"password\":\"\",\"saveToRequest\":true,\"username\":\"{{bf_key_1}}\"}",
			"id": "6a354176-b968-027a-befc-fb9d34946091",
			"method": "DELETE",
			"name": "Forget Job",
			"pathVariableData": [],
			"pathVariables": {},
			"preRequestScript": "",
			"queryParams": [],
			"rawModeData": "",
			"responses": [],
			"tests": "var wait = eval(postman.getEnvironmentVariable('wait'));\nvar testLevels = eval(postman.getEnvironmentVariable('testLevels'));\n\ntests[\"Status code is 200\"] = responseCode.code === 200;\n\ntests[\"Correct job forgotten\"] = responseBody.match(postman.getEnvironmentVariable('jobId'));",
			"url": "https://bf-api.{{domain}}/v0/job/{{jobId}}"
		},
		{
			"collectionId": "e4521630-0985-6bfe-cebd-d2f47232f681",
			"currentHelper": "basicAuth",
			"data": [],
			"dataMode": "raw",
			"description": "List all jobs the user can see, making sure the just created job is present.",
			"descriptionFormat": null,
			"folder": "e40dc073-a7aa-ed2d-8eeb-974ccaff8b74",
			"headerData": [],
			"headers": "Content-Type: application/json\nAuthorization: \n",
			"helperAttributes": "{\"id\":\"basic\",\"password\":\"\",\"saveToRequest\":true,\"username\":\"{{bf_key_1}}\"}",
			"id": "6bed1e1f-8f02-368c-7098-45388ea54a61",
			"method": "GET",
			"name": "List Jobs",
			"pathVariableData": [],
			"pathVariables": {},
			"preRequestScript": null,
			"queryParams": [],
			"rawModeData": "",
			"responses": [],
			"tests": "tests[\"Status code is 200\"] = responseCode.code === 200;\nvar data = JSON.parse(responseBody);\nvar testLevels = eval(postman.getEnvironmentVariable('testLevels'));\nvar found = false;\n\nif (testLevels(tests, data, 'jobs.features', 'array')) {\n    for (i = 0; i < data.jobs.features.length; i++) {\n        if (testLevels(tests, data.jobs.features[i], 'id', 'skip', 'jobs.features[].')) {\n            found = found || data.jobs.features[i].id === postman.getEnvironmentVariable('jobId');\n        }\n    }\n    postman.setEnvironmentVariable('active jobs', data.jobs.features.length);\n}\n\ntests[\"Job found in list of jobs\"] = found;",
			"url": "https://bf-api.{{domain}}/v0/job"
		},
		{
			"collectionId": "e4521630-0985-6bfe-cebd-d2f47232f681",
			"currentHelper": "basicAuth",
			"data": [],
			"dataMode": "raw",
			"description": "Get a list of services in use by BF.",
			"descriptionFormat": null,
			"folder": "d3fa7040-7565-6d9c-c5e6-f692cf15a557",
			"headerData": [
				{
					"description": "",
					"enabled": true,
					"key": "Content-Type",
					"value": "application/json"
				},
				{
					"description": "",
					"enabled": true,
					"key": "Authorization",
					"value": "Basic N2EzYTU2Y2NiM2RkYmUxMmQ5YmJiNGM1YzkyMzkyYWI6"
				}
			],
			"headers": "Content-Type: application/json\nAuthorization: Basic N2EzYTU2Y2NiM2RkYmUxMmQ5YmJiNGM1YzkyMzkyYWI6\n",
			"helperAttributes": "{\"id\":\"basic\",\"username\":\"{{bf_key_1}}\",\"password\":\"\",\"saveToRequest\":true}",
			"id": "8efb5d7c-e642-834d-9542-bb26e90a2097",
			"method": "GET",
			"name": "Get Services",
			"pathVariableData": [],
			"pathVariables": {},
			"preRequestScript": null,
			"queryParams": [],
			"rawModeData": "",
			"responses": [],
			"tests": "tests[\"Status code is 200\"] = responseCode.code === 200;\nvar testLevels = eval(postman.getEnvironmentVariable('testLevels'));\nvar parseJSON = eval(postman.getEnvironmentVariable('parseJSON'));\nvar data = parseJSON(tests, responseBody);\n\nif (testLevels(tests, data, 'services.catalog')) {\n    postman.setEnvironmentVariable('catalog_url', data.services.catalog);\n}\nif (testLevels(tests, data, 'services.wms_server')) {\n    postman.setEnvironmentVariable('wms_server_url', data.services.wms_server.replace('https', 'http'));\n}\nif (testLevels(tests, data, 'profile.username')) {\n    tests[\"Correct username returned\"] = data.profile.username === postman.getEnvironmentVariable('bf_user_1');\n}",
			"url": "https://bf-api.{{domain}}/v0/user"
		},
		{
			"id": "a5c7691a-c29c-9f14-2ea4-04eddfa5d0c1",
			"headers": "",
			"headerData": [],
			"url": "{{catalog_url}}/planet/discover/sentinel?PL_API_KEY={{PL API - NO COMMIT}}&maxAcquiredDate={{TwoDaysAgo}}&bbox={{Australia}}",
			"folder": "d3fa7040-7565-6d9c-c5e6-f692cf15a557",
			"queryParams": [
				{
					"key": "PL_API_KEY",
					"value": "{{PL API - NO COMMIT}}",
					"equals": true,
					"description": "",
					"enabled": true
				},
				{
					"key": "maxAcquiredDate",
					"value": "{{TwoDaysAgo}}",
					"equals": true,
					"description": "",
					"enabled": true
				},
				{
					"key": "bbox",
					"value": "{{Australia}}",
					"equals": true,
					"description": "",
					"enabled": true
				}
			],
			"preRequestScript": null,
			"pathVariables": {},
			"pathVariableData": [],
			"method": "GET",
			"data": null,
			"dataMode": "params",
			"tests": "tests[\"Status code is 200\"] = responseCode.code === 200;\nvar testLevels = eval(postman.getEnvironmentVariable('testLevels'));\nvar parseJSON = eval(postman.getEnvironmentVariable('parseJSON'));\nvar data = parseJSON(tests, responseBody);\nvar match = true;\n\nvar results = '';\n\nif (testLevels(tests, data, 'features', 'array')) {\n    for (i = 0; i < data.features.length; i++) {\n        if (testLevels(tests, data.features[i], 'properties.sensorName', 'string', 'features[].')) {\n            match = match && data.features[i].properties.sensorName.match(/sentinel/i);\n        }\n        if (testLevels(tests, data.features[i], 'id', 'skip', 'features[0].')) {\n            results = data.features[i].id + ',' + results;\n        }\n    }\n}\ntests[\"All returned images are sentinel\"] = match;\npostman.setEnvironmentVariable('sentinelId', 'S2A_MSIL1C_20170918T070231_N0205_R120_T39LTF_20170918T070230');",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1508169071539,
			"name": "Get Sentinel List",
			"description": "Query the catalog for Sentinel images.",
			"collectionId": "e4521630-0985-6bfe-cebd-d2f47232f681",
			"responses": []
		},
		{
			"collectionId": "e4521630-0985-6bfe-cebd-d2f47232f681",
			"currentHelper": "normal",
			"data": null,
			"dataMode": "params",
			"description": "Validate that the url given for the catalog service is valid",
			"descriptionFormat": null,
			"folder": "d3fa7040-7565-6d9c-c5e6-f692cf15a557",
			"headerData": [],
			"headers": "",
			"helperAttributes": "{}",
			"id": "bd47f088-2689-8e44-9d5b-84675af9fb88",
			"method": "GET",
			"name": "Validate Catalog URL",
			"pathVariableData": [],
			"pathVariables": {},
			"preRequestScript": null,
			"queryParams": [],
			"rawModeData": null,
			"responses": [],
			"tests": "tests[\"Status code is 200\"] = responseCode.code === 200;",
			"url": "{{catalog_url}}"
		},
		{
			"collectionId": "e4521630-0985-6bfe-cebd-d2f47232f681",
			"currentHelper": "basicAuth",
			"data": [],
			"dataMode": "raw",
			"description": "List the algoithms in use by BF.",
			"descriptionFormat": null,
			"folder": "d3fa7040-7565-6d9c-c5e6-f692cf15a557",
			"headerData": [
				{
					"description": "",
					"enabled": true,
					"key": "Content-Type",
					"value": "application/json"
				},
				{
					"description": "",
					"enabled": true,
					"key": "Authorization",
					"value": "Basic N2EzYTU2Y2NiM2RkYmUxMmQ5YmJiNGM1YzkyMzkyYWI6"
				}
			],
			"headers": "Content-Type: application/json\nAuthorization: Basic N2EzYTU2Y2NiM2RkYmUxMmQ5YmJiNGM1YzkyMzkyYWI6\n",
			"helperAttributes": "{\"id\":\"basic\",\"username\":\"{{bf_key_1}}\",\"password\":\"\",\"saveToRequest\":true}",
			"id": "dd1cf697-777c-f034-bab9-21b39c964381",
			"isLastRequest": true,
			"method": "GET",
			"name": "List Algorithms",
			"pathVariableData": [],
			"pathVariables": {},
			"preRequestScript": null,
			"queryParams": [],
			"rawModeData": "",
			"responses": [],
			"tests": "tests[\"Status code is 200\"] = responseCode.code === 200;\nvar data = JSON.parse(responseBody);\nvar testLevels = eval(postman.getEnvironmentVariable('testLevels'));\n\nif (testLevels(tests, data, 'algorithms', 'array')) {\n    for (i = 0; i < data.algorithms.length; i++) {\n        testLevels(tests, data.algorithms[i], 'description', 'skip', 'algorithms[].');\n        testLevels(tests, data.algorithms[i], 'max_cloud_cover', 'skip', 'algorithms[].');\n        testLevels(tests, data.algorithms[i], 'interface', 'skip', 'algorithms[].');\n        testLevels(tests, data.algorithms[i], 'version', 'skip', 'algorithms[].');\n        if (testLevels(tests, data.algorithms[i], 'name', 'string', 'algorithms[].')) {\n            if (data.algorithms[i].name == \"NDWI_PY\") {\n                if (testLevels(tests, data.algorithms[i], 'service_id', 'skip', 'algorithms[].')) {\n                    postman.setEnvironmentVariable('algServiceId', data.algorithms[i].service_id);\n                    break;\n                }\n            }\n        }\n    }\n}",
			"url": "https://bf-api.{{domain}}/v0/algorithm"
		}
	]
}